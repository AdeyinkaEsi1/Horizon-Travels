<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Booking</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.6.13/flatpickr.min.css">
    <link rel="stylesheet" href="styles.css">
    <!-- Flatpickr JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.6.13/flatpickr.min.js"></script>
</head>

<body class="bg-blue-800">
    <div class="w-4/6 flex flex-col items-center ml-52 mt-20 mx-auto bg-white rounded p-6">
        <!-- Tabs Navigation -->
        <div class="mb-4 bg-blue-100 w-full py-2 text-center rounded">
            <button class="tab-btn active bg-blue-800 text-white py-1 px-14 rounded font-semibold">Flights</button>
        </div>

        <!-- Flights Tab Content -->
        <div class="tab-content">
            <form id="bookingForm" action="">
                <div class="mb-4 flex space-x-4 justify-center">
                    <label>
                        <input type="radio" name="trip" value="roundtrip" checked> Round Trip
                    </label>
                    <label>
                        <input type="radio" name="trip" value="oneway"> One Way
                    </label>
                </div>
                <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
                    <select name="departure" id="departure-location" class="border border-black p-2 w-52" required>
                        <option value="" disabled selected>Select Departure</option>
                        <option value="Newcastle">Newcastle</option>
                        <option value="Bristol">Bristol</option>
                        <option value="Cardiff">Cardiff</option>
                        <option value="Edinburgh">Edinburgh</option>
                        <option value="Manchester">Manchester</option>
                        <option value="London">London</option>
                        <option value="Glasgow">Glasgow</option>
                        <option value="Portsmouth">Portsmouth</option>
                        <option value="Dundee">Dundee</option>
                        <option value="Southampton">Southampton</option>
                        <option value="Birmingham">Birmingham</option>
                        <option value="Aberdeen">Aberdeen</option>
                    </select>
                    <select id="destination" name="destination" class="border border-black p-2 w-52" required>
                        <option value="" disabled selected>Select Destination</option>
                        <option value="Newcastle">Newcastle</option>
                        <option value="Bristol">Bristol</option>
                        <option value="Cardiff">Cardiff</option>
                        <option value="Edinburgh">Edinburgh</option>
                        <option value="Manchester">Manchester</option>
                        <option value="London">London</option>
                        <option value="Glasgow">Glasgow</option>
                        <option value="Portsmouth">Portsmouth</option>
                        <option value="Dundee">Dundee</option>
                        <option value="Southampton">Southampton</option>
                        <option value="Birmingham">Birmingham</option>
                        <option value="Aberdeen">Aberdeen</option>
                    </select>
                    <label>
                        <input type="text" id="departureDate" name="departure_date"
                            class="border p-2 w-full border border-black cursor-pointer text-black placeholder-gray-500"
                            placeholder="Departure Date" required>
                    </label>

                    <label>
                        <input type="text" id="arrivalDate" name="arrival_date"
                            class="border p-2 w-full border border-black cursor-pointer text-black placeholder-gray-500"
                            placeholder="Arrival Date" required>
                    </label>


                </div>

                <div class="mt-4 grid gap-4 md:grid-cols-3">
                    <label>
                        <input type="number" id="seats" min="1" max="130" name="seats"
                            class="border p-2 w-full border-black cursor-pointer text-black placeholder-gray-500"
                            placeholder="Seats" value="" required>
                    </label>

                    <select name="flight-class" class="border p-2 w-full border border-black" required>
                        <option value="" disabled selected>Choose Flight Class</option>
                        <option value="economy">Economy</option>
                        <option value="business">Business</option>
                    </select>

                    <button type="submit" class="w-full bg-orange-500 text-white py-2 hover:bg-orange-600">Search
                        Flights</button>
                </div>

                <script>
                    document.getElementById("bookingForm").addEventListener("submit", function (event) {
                        let departureValue = document.getElementById("departureDate").value.trim();
                        let arrivalValue = document.getElementById("arrivalDate").value.trim();

                        if (!departureValue || !arrivalValue) {
                            alert("Please select both departure and arrival dates.");
                            event.preventDefault();
                        }
                    });

                    let departurePicker = flatpickr("#departureDate", {
                        dateFormat: "Y-m-d",
                        altInput: true,
                        altFormat: "F j, Y",
                        minDate: "today",
                        maxDate: new Date().fp_incr(90),
                        defaultDate: "",
                    });

                    let arrivalPicker = flatpickr("#arrivalDate", {
                        dateFormat: "Y-m-d",
                        altInput: true,
                        altFormat: "F j, Y",
                        minDate: "today",
                        maxDate: new Date().fp_incr(90),
                        defaultDate: "",
                    });
                    document.getElementById("seats").addEventListener("input", function () {
                        let value = parseInt(this.value, 10);
                        if (value > 130) {
                            this.value = 130;
                        } else if (value < 1) {
                            this.value = 1;
                        }
                    });

                    document.addEventListener("DOMContentLoaded", function () {
                        let seatsInput = document.getElementById("seats");

                        seatsInput.addEventListener("focus", function () {
                            if (!this.value) {
                                this.value = 1;
                            }
                        });

                        seatsInput.addEventListener("blur", function () {
                            if (this.value === "" || this.value < 1) {
                                this.value = "";
                            }
                        });
                    });
                </script>
            </form>
        </div>

    </div>

</body>

</html>